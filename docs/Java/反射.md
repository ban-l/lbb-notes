# 反射

**反射：动态获取程序信息，以及动态调用对象。**

反射可以用来：

1. 在运行时分析类的能力
2. 在运行时分析对象，例如：编写一个适用于所有类的`toString`方法
3. 实现泛型数组操作代码（数组扩容）
4. 调用任意方法和构造器（`Method-invoke`、`Constructor-newInstance`）

## Class类

Class类用来保存**运行时类型信息**

```java
public final class Class<T> implements java.io.Serializable,
                              GenericDeclaration,
                              Type,
                              AnnotatedElement {
    ......
}
```

## 获得Class类对象

**Class对象**实际表示的是一个类型，可能是类，也可能不是类（基本数据类型）

**虚拟机为每个类管理一个唯一的Class对象，可以利用 `==` 比较**

获得Class类对象的三种方法

1. `Object`类的`getClass()`方法
2. `Class.forName(类名)`，静态方法
   1. 获取类名对应的Class对象
   2. 会抛出一个检查型异常
3. `T.class`：`T` 为任意Java类型或者`void`关键字

```java
Demo d = new Demo();
Class c1 = d.getClass();
Class c2 = Class.forName("org.java.demo.Demo");
Class c3 = Demo.class;
```
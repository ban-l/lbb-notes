# 知识点

## Spring中出现同名bean怎么办？

- 同一个配置文件内同名的Bean，以最上面定义的为准；
- 不同配置文件中存在同名Bean，后解析的配置文件会覆盖先解析的配置文件；
- @ComponentScan和@Bean出现同名Bean：
  - 同文件下@Bean的会生效；
  - @ComponentScan扫描进来不会生效，优先级是最低的。

## Spring 用到的设计模式

1. 工厂模式：Spring使用工厂模式通过BeanFactory和ApplicationContext创建bean对象。
2. 代理模式：Spring AOP功能的实现。
3. 单例模式：Spring中的bean默认单例。

4. 模板方法模式：Spring中的jdbcTemplate、hibernateTemplate等以Template结尾的对数据库操作的类。
5. 包装器模式：项目需要连接多个数据库，包装器模式让我们可以根据需求能够动态切换不同的数据源。
6. 观察者模式：Spring事件驱动模型就是观察者模式很经典的一个应用。
7. 适配器模式：Spring AOP的通知（Advice）使用到了适配器模式、Spring MVC中也是用到了适配器模式适配Controller。

## @Component和@Bean的区别是什么？

1. 作用对象不同。

   - @Component注解作用于类
   - @Bean注解作用于方法

2. 作用

   - @Component注解，通过类路径扫描来自动侦测以及自动装配到Spring容器中（@ComponentScan注解定义扫描路径）

   - @Bean注解，通常是在标有该注解的方法中定义产生bean。

3. @Bean注解的自定义性更强，很多地方只能通过@Bean注解来注册bean。

## 类声明为bean的注解

1. @Component注解。通用注解，可标注任意类为Spring组件。
2. @Repository注解。对应持久层，即Dao层，主要用于数据库相关操作。
3. @Service注解。对应服务层，即Service层，主要涉及一些复杂的逻辑，需要用到Dao层（注入）。
4. @Controller注解。对应Spring MVC的控制层，即Controller层。

## Spring 自动装配

- no：这是默认设置，表示没有自动装配。应使用显式 bean 引用进行装配。
- byName：它根据 bean 的名称注入对象依赖项。它匹配并装配其属性与 XML 文件中由相同名称定义的 bean。
- byType：它根据类型注入对象依赖项。如果属性的类型与 XML 文件中的一个 bean 名称匹配，则匹配并装配属性。
- 构造函数：它通过调用类的构造函数来注入依赖项。它有大量的参数。
- autodetect：首先容器尝试通过构造函数使用 autowire 装配，如果不能，则尝试通过 byType 自动装配。
# 概念

## AOP（复用，耦合）

AOP（Aspect-Oriented Programming，面向切面编程）

- AOP将与业务无关，却为业务模块所共同调用的逻辑或责任（例如事务、日志、权限等）封装起来。
- 目的是减少系统的重复代码，降低模块间的耦合度，并有利于未来的可扩展性和可维护性。

### 原理：动态代理

Spring AOP基于JDK动态代理。

- 如果被代理对象实现了某个接口，那么Spring AOP就会使用JDK动态代理去创建代理对象。
- 而对于没有实现接口的对象，使用CGlib动态代理生成一个被代理对象的子类来作为代理。

## AOP包含的几个概念

1. Jointpoint（连接点）：具体的切面点抽象概念，可以是在字段、方法上，Spring中具体表现形式是PointCut（切入点），仅作用在方法上。
2. Advice（通知）: 描述在连接点进行的具体操作是如何进行增强处理的，分为前置、后置、异常、最终、环绕五种情况。
3. 目标对象：被AOP框架进行增强处理的对象，也被称为被增强的对象。
4. AOP代理：AOP框架创建的对象，代理就是对目标对象的加强。Spring中的AOP代理可以是JDK动态代理，也可以是CGLIB代理。
5. Weaving（织入）：将增强处理添加到目标对象中，创建一个代理对象的过程。

总结：在目标对象（target object）的某些方法（jointpoint）添加不同种类的操作（通知），最后通过某些方法（weaving）实现一个新的代理目标对象。 

## AOP 应用场景

1. 记录日志(调用方法后记录日志)
2. 监控性能(统计方法运行时间)
3. 权限控制(调用方法前校验是否有权限)
4. 事务管理(调用方法前开启事务，调用方法后提交关闭事务 )
5. 缓存优化(第一次调用查询数据库，将查询结果放入内存对象， 第二次调用，直接从内存对象返回，不需要查询数据库 )

 
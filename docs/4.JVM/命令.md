# JVM命令

## 常见命令

#### jmap - 堆内存分析

```bash
# 查看堆内存概要
jmap -heap <pid>

# 查看对象直方图
jmap -histo:live <pid> | head -20

# 生成堆转储文件
jmap -dump:format=b,file=heap.bin <pid>

# 只转储存活对象
jmap -dump:live,format=b,file=heap.bin <pid>
```

#### jstat - GC统计监控

```bash
# 监控GC统计信息
jstat -gcutil <pid> 1s

# 输出字段说明:
# S0  - Survivor0使用率
# S1  - Survivor1使用率  
# E   - Eden使用率
# O   - 老年代使用率
# M   - 元空间使用率
# CCS - 压缩类空间使用率
# YGC - Young GC次数
# YGCT- Young GC总时间
# FGC - Full GC次数
# FGCT- Full GC总时间
# GCT - GC总时间
```

#### jstack - 线程分析

```bash
# 查看线程堆栈
jstack <pid>

# 查找死锁
jstack -l <pid>
```

### 